"use strict";(self.webpackChunkuser_manual=self.webpackChunkuser_manual||[]).push([[6901],{139:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct11-5c0dd41d87e37cff51f5ed31dcc31324.jpg"},2202:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct7-fc244fd2cab2c12bdbdc78a5bfcdd07c.jpg"},2316:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct1-2df8d7e485f18b39390b872e12ae2816.jpg"},2440:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct5-5f2391b4b21673e88c2efd77f4ce4a1a.jpg"},3164:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct12-a233fbdcd6e61f4efdab7a13b9a7c6d6.jpg"},3873:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct3a-60f4110c3131620f52f54c6820cf303a.jpg"},4777:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct13-9e68ebb94b70d5411dccee152670ee00.jpg"},4805:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct4-e1e314dac26da79a262552cb7771f741.jpg"},5115:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct2-4f1f8d4c2c1027350c1f45424d93e365.jpg"},5935:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"tutorials/circuit tutorials/two-stage-opamp","title":"Two-Stage Op-Amp","description":"All files needed for this tutorial can be accessed from this link//drive.google.com/drive/folders/1AF0CRgLRTJzCPkyfKrpjCE--CNfL3W-x","source":"@site/docs/tutorials/circuit tutorials/two-stage-opamp.md","sourceDirName":"tutorials/circuit tutorials","slug":"/tutorials/circuit tutorials/two-stage-opamp","permalink":"/docs/tutorials/circuit tutorials/two-stage-opamp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Circuit Tutorials","permalink":"/docs/category/circuit-tutorials"},"next":{"title":"Settings","permalink":"/docs/settings"}}');var s=t(4848),r=t(8453);const a={},c="Two-Stage Op-Amp",l={},d=[{value:"Creating a New Project",id:"creating-a-new-project",level:2},{value:"Base Circuit Details",id:"base-circuit-details",level:3},{value:"Test Bench Details",id:"test-bench-details",level:3},{value:"Circuit Dependencies",id:"circuit-dependencies",level:3},{value:"DC Analysis",id:"dc-analysis",level:2},{value:"Netlist",id:"netlist",level:3},{value:"Design Parameters",id:"design-parameters",level:3},{value:"Environment Parameters",id:"environment-parameters",level:3},{value:"Measurements",id:"measurements",level:3},{value:"Data Capture",id:"data-capture",level:4},{value:"Simulation Setup",id:"simulation-setup",level:3},{value:"Genie (Optimization)",id:"genie-optimization",level:3}];function o(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"two-stage-op-amp",children:"Two-Stage Op-Amp"})}),"\n",(0,s.jsx)(i.admonition,{title:"Resources",type:"info",children:(0,s.jsxs)(i.p,{children:["All files needed for this tutorial can be accessed from this link: ",(0,s.jsx)(i.a,{href:"https://drive.google.com/drive/folders/1AF0CRgLRTJzCPkyfKrpjCE--CNfL3W-x",children:"https://drive.google.com/drive/folders/1AF0CRgLRTJzCPkyfKrpjCE--CNfL3W-x"})]})}),"\n",(0,s.jsx)(i.h2,{id:"creating-a-new-project",children:"Creating a New Project"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 1",src:t(2316).A+"",width:"1380",height:"171"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 2",src:t(5115).A+"",width:"1380",height:"677"})}),"\n",(0,s.jsx)(i.p,{children:'Create a new project by clicking "Add New Project". A single project can contain multiple related circuits.'}),"\n",(0,s.jsx)(i.p,{children:'Upon clicking "Add New Project", you will be prompted to enter:'}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Project Type"})," - Select Analog"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Project Name"})," - Enter the project name"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Description"})," - Write a short note on the project"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Project Tags"})," - Used for better organization of your projects"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Project Image"})," - Click on Upload image to add a project image (Image of the base circuit)"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"After that, you are redirected to the Upload Circuit page."}),"\n",(0,s.jsx)(i.h3,{id:"base-circuit-details",children:"Base Circuit Details"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Base Circuit Name"})," - Enter the base circuit name"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Tool"})," - Select the schematic/simulation tool being used. For this tutorial, Ngspice is selected"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Description"})," - Enter a description for the base circuit"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Circuit Image"})," - Upload an image of the base circuit"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 3a",src:t(3873).A+"",width:"1380",height:"382"})}),"\n",(0,s.jsx)(i.h3,{id:"test-bench-details",children:"Test Bench Details"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Circuit Schematic"})," - Upload the ",(0,s.jsx)(i.code,{children:".spice"})," (netlist) file corresponding to your circuit. In this tutorial, a two-stage op-amp (",(0,s.jsx)(i.code,{children:"two_stage_opamp"}),") is used"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Circuit Image"})," - Upload schematic images or screenshots. You may upload:","\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Circuit schematics"}),"\n",(0,s.jsx)(i.li,{children:"Input waveforms"}),"\n",(0,s.jsx)(i.li,{children:"Output waveforms"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 3b",src:t(8022).A+"",width:"1380",height:"352"})}),"\n",(0,s.jsx)(i.h3,{id:"circuit-dependencies",children:"Circuit Dependencies"}),"\n",(0,s.jsx)(i.p,{children:"For your circuit dependencies, make sure for this specific project, you add the two required ones:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Models"})," - Which you will get from the PDK Files in the resources (Upload ",(0,s.jsx)(i.code,{children:"design.ngspice"}),")"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Libraries"})," - Which you will also get from the PDK Files in the resources (Upload ",(0,s.jsx)(i.code,{children:"sm141064.ngspice"}),")"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:'Complete the process by clicking "Save Circuit".'}),"\n",(0,s.jsx)(i.h2,{id:"dc-analysis",children:"DC Analysis"}),"\n",(0,s.jsxs)(i.p,{children:["After uploading the circuit, click on the testbench from the left-hand panel under Circuits.\r\n(In this tutorial, ",(0,s.jsx)(i.code,{children:"two_stage_closed_DC"})," is used.)"]}),"\n",(0,s.jsx)(i.p,{children:"The following tabs will be visible:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Netlist"}),"\n",(0,s.jsx)(i.li,{children:"Design Parameters"}),"\n",(0,s.jsx)(i.li,{children:"Environment Parameters"}),"\n",(0,s.jsx)(i.li,{children:"Measurements"}),"\n",(0,s.jsx)(i.li,{children:"Simulation Setup"}),"\n",(0,s.jsx)(i.li,{children:"Genie"}),"\n",(0,s.jsx)(i.li,{children:"Analytics"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Each tab is explained in the sections below."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 4",src:t(4805).A+"",width:"1560",height:"714"})}),"\n",(0,s.jsx)(i.h3,{id:"netlist",children:"Netlist"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Circuit Tutorial 5",src:t(2440).A+"",width:"1380",height:"764"}),"\r\n",(0,s.jsx)(i.img,{alt:"Circuit Tutorial 6",src:t(6663).A+"",width:"1380",height:"707"})]}),"\n",(0,s.jsx)(i.p,{children:"The Netlist tab displays the uploaded netlist file."}),"\n",(0,s.jsx)(i.p,{children:"You can edit the netlist by clicking the Edit button, if changes are required for different simulation results."}),"\n",(0,s.jsx)(i.p,{children:"Uploaded circuit images can be viewed by clicking the Image icon next to the Edit button."}),"\n",(0,s.jsx)(i.h3,{id:"design-parameters",children:"Design Parameters"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 7",src:t(2202).A+"",width:"1380",height:"630"})}),"\n",(0,s.jsx)(i.p,{children:"This tab displays all parameters defined in the uploaded netlist along with their current values."}),"\n",(0,s.jsx)(i.p,{children:"For optimization purposes, you can specify a range for each parameter by modifying:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Minimum Value"}),"\n",(0,s.jsx)(i.li,{children:"Maximum Value"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"By default, these are set to half and twice the typical parameter value."}),"\n",(0,s.jsxs)(i.p,{children:["Select the testbench (",(0,s.jsx)(i.code,{children:"two_stage_closed_DC"}),") and enable the parameters that should be optimized by the AI agent."]}),"\n",(0,s.jsx)(i.h3,{id:"environment-parameters",children:"Environment Parameters"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 8",src:t(6993).A+"",width:"1380",height:"433"})}),"\n",(0,s.jsx)(i.p,{children:"This tab is used to define simulation conditions such as:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Process corner"}),"\n",(0,s.jsx)(i.li,{children:"Temperature"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"For this tutorial, the temperature is set to a default value of 27\xb0C."}),"\n",(0,s.jsx)(i.h3,{id:"measurements",children:"Measurements"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 9",src:t(8948).A+"",width:"1154",height:"768"})}),"\n",(0,s.jsx)(i.p,{children:"Measurement statements define what values should be evaluated during simulation."}),"\n",(0,s.jsx)(i.p,{children:"The type of measurement depends on the requirement:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Scalar"}),"\n",(0,s.jsx)(i.li,{children:"Vector"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Under DC Analysis, click the Custom button and provide a variable name."}),"\n",(0,s.jsx)(i.p,{children:"Enter the measurement statement in the generated input box."}),"\n",(0,s.jsx)(i.p,{children:"For this tutorial, a vector measurement is used to evaluate values at multiple instances."}),"\n",(0,s.jsx)(i.p,{children:"Voltage values can be:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Entered manually, or"}),"\n",(0,s.jsx)(i.li,{children:"Uploaded using a CSV file via the menu icon beside DC Analysis."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Click the menu icon in the top-right corner of the measurement box and enable Vector Mode."}),"\n",(0,s.jsx)(i.p,{children:"Provide:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["The variable name (e.g., ",(0,s.jsx)(i.code,{children:"[voltage]"}),")"]}),"\n",(0,s.jsx)(i.li,{children:"The instances at which measurements are taken, separated by commas"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"data-capture",children:"Data Capture"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 10",src:t(8830).A+"",width:"1154",height:"233"})}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 11",src:t(139).A+"",width:"876",height:"691"})}),"\n",(0,s.jsx)(i.p,{children:"To extract variables defined within the netlist (such as offset), a Data Capture measurement is used."}),"\n",(0,s.jsx)(i.p,{children:"This method is suitable for measurements involving let statements."}),"\n",(0,s.jsx)(i.p,{children:"Click the Plus (+) icon under Data Capture."}),"\n",(0,s.jsxs)(i.p,{children:["Enter the variable name exactly as defined in the netlist (e.g., ",(0,s.jsx)(i.code,{children:"offset"}),")."]}),"\n",(0,s.jsx)(i.p,{children:"Vector measurements can also be used in Data Capture by:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Changing the measurement type from Scalar to Vector"}),"\n",(0,s.jsx)(i.li,{children:"Entering multiple variable names separated by commas"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"simulation-setup",children:"Simulation Setup"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 12",src:t(3164).A+"",width:"1377",height:"561"})}),"\n",(0,s.jsx)(i.p,{children:"Manage Dependencies must be completed before running simulations."}),"\n",(0,s.jsx)(i.p,{children:"Click the menu button below Publish Project (top-right corner)."}),"\n",(0,s.jsx)(i.p,{children:"Select Manage Dependencies, then click the Chain Icon to link the required models and libraries."}),"\n",(0,s.jsx)(i.p,{children:"Once dependencies are connected, click Simulate."}),"\n",(0,s.jsx)(i.p,{children:"Simulation results can be viewed in the Log file."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 13",src:t(4777).A+"",width:"1600",height:"294"})}),"\n",(0,s.jsx)(i.p,{children:"The results displayed correspond to the default design parameter values specified in the Design Parameters tab."}),"\n",(0,s.jsx)(i.h3,{id:"genie-optimization",children:"Genie (Optimization)"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.img,{alt:"Circuit Tutorial 14",src:t(8314).A+"",width:"876",height:"832"}),"\r\n",(0,s.jsx)(i.img,{alt:"Circuit Tutorial 15",src:t(9479).A+"",width:"458",height:"233"})]}),"\n",(0,s.jsx)(i.p,{children:"The Genie page is where circuit optimization is performed."}),"\n",(0,s.jsx)(i.p,{children:"Measurement variables (both scalar and vector) defined earlier are displayed on the top-left of the Genie page."}),"\n",(0,s.jsx)(i.p,{children:"You may rename expressions if required."}),"\n",(0,s.jsx)(i.p,{children:"Click Enter Expression, select the measurement variable, and define the optimization goal:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Minimum"}),"\n",(0,s.jsx)(i.li,{children:"Maximum"}),"\n",(0,s.jsx)(i.li,{children:"Range"}),"\n",(0,s.jsx)(i.li,{children:"Equal to a value"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Provide the target value or range for scalar measurements."}),"\n",(0,s.jsx)(i.p,{children:"Multiple expressions can be added using the Plus (+) icon."}),"\n",(0,s.jsx)(i.p,{children:"For vector measurements, targets must be assigned using Graph Mode, since optimization occurs across multiple instances."}),"\n",(0,s.jsx)(i.p,{children:"Click Open Graph to assign vector targets."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 16",src:t(8552).A+"",width:"885",height:"568"})}),"\n",(0,s.jsxs)(i.p,{children:["Select the X-axis label (e.g., ",(0,s.jsx)(i.code,{children:"output_dc"}),")."]}),"\n",(0,s.jsx)(i.p,{children:"The instances defined earlier will be listed automatically."}),"\n",(0,s.jsx)(i.p,{children:"Set Y-values either:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Manually (for a small number of points), or"}),"\n",(0,s.jsx)(i.li,{children:"By uploading a CSV file (for larger datasets)"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 17",src:t(6165).A+"",width:"1243",height:"801"})}),"\n",(0,s.jsx)(i.p,{children:"Targets can also be assigned by importing a JSON file using the Import from File option."}),"\n",(0,s.jsx)(i.p,{children:"The required JSON files are available in the Resources section of this document."}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"Circuit Tutorial 18",src:t(6054).A+"",width:"488",height:"229"})}),"\n",(0,s.jsxs)(i.p,{children:["Select the appropriate optimization agent.\r\n(For this tutorial, ",(0,s.jsx)(i.code,{children:"two_stage_closed_dc"})," is used.)"]}),"\n",(0,s.jsx)(i.p,{children:"Click Genie Optimize at the bottom-right of the page."}),"\n",(0,s.jsx)(i.p,{children:"Open the Chart view to monitor:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Current iteration measurement"}),"\n",(0,s.jsx)(i.li,{children:"Best measurement achieved"}),"\n",(0,s.jsx)(i.li,{children:"Target value"}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Each optimization iteration is displayed in real time."}),"\n",(0,s.jsx)(i.p,{children:"Previous iterations can be viewed by enabling Show Trail."}),"\n",(0,s.jsx)(i.p,{children:"Once the target is achieved, download the optimized netlist by clicking the Download icon below the agent selection panel."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},6054:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct18-3d8cff6faaad579e4101439a8562b11f.jpg"},6165:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct17-5c7417dd7ee7b7b722995b29e3355fde.jpg"},6663:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct6-cbe007102a131a9be90355b7a9ffedbc.jpg"},6993:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct8-8b4c4dddcfa4fb20675c8b50a699e377.jpg"},8022:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct3b-6828d11b9299cc46070405af695eb429.jpg"},8314:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct14-d333fbc021f795c1491f1bd0617e5c81.jpg"},8453:(e,i,t)=>{t.d(i,{R:()=>a,x:()=>c});var n=t(6540);const s={},r=n.createContext(s);function a(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:i},e.children)}},8552:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct16-39bdd72dcb80d1949ed696212536dc3c.jpg"},8830:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct10-1da2f21cc7bc426cb17a16690718c07d.jpg"},8948:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct9-0ba4501d699c4344801981bb4a85b58e.jpg"},9479:(e,i,t)=>{t.d(i,{A:()=>n});const n=t.p+"assets/images/ct15-af29655f453ba767c553419f3137aa91.jpg"}}]);